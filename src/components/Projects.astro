---
import { siteConfig } from "../config";
import ProjectCard from "./ProjectCard.astro";
const topProjects = siteConfig.topProjects && siteConfig.topProjects.length > 0
  ? siteConfig.topProjects
  : siteConfig.projects;
const otherProjects = siteConfig.otherProjects && siteConfig.otherProjects.length > 0
  ? siteConfig.otherProjects
  : [];
const hasProjects = topProjects && topProjects.length > 0;
---

{
  hasProjects && (
    <section id="projects" class="p-8 sm:p-12 md:p-16 lg:p-24">
      <div>
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-16 items-start">
          <div class="lg:col-span-4">
            <h2 class="text-3xl sm:text-4xl md:text-5xl xl:text-7xl font-bold text-gray-900">
              Projects
            </h2>
            <div
              class="w-[75px] h-[5px] mt-2 rounded-full"
              style={`background-color: ${siteConfig.accentColor}`}
            />
          </div>

          <div class="lg:col-span-8">
            <div class="space-y-8">
              <h3 class="text-sm font-semibold tracking-wide uppercase text-gray-500">Top Projects</h3>
              {topProjects.map((project, index) => (
                <ProjectCard project={project} index={index} accentColor={siteConfig.accentColor} />
              ))}

              {otherProjects.length > 0 && (
                <>
                  <h3 class="text-sm font-semibold tracking-wide uppercase text-gray-500 pt-4">Other Projects</h3>
                  {otherProjects.map((project, index) => (
                    <ProjectCard
                      project={project}
                      index={index + topProjects.length}
                      accentColor={siteConfig.accentColor}
                    />
                  ))}
                </>
              )}
            </div>
          </div>
        </div>
      </div>
    </section>
  )
}
